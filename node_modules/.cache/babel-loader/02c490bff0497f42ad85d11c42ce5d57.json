{"ast":null,"code":"import _slicedToArray from \"C:\\\\30\\\\music-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\30\\\\music-app\\\\client\\\\src\\\\components\\\\songs\\\\UploadSong.js\";\nimport React, { useState } from 'react';\nimport Axios from \"axios\";\n\nconst Upload = () => {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        songName = _useState2[0],\n        setSongName = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        singer = _useState4[0],\n        setSinger = _useState4[1];\n\n  const _useState5 = useState(\"\"),\n        _useState6 = _slicedToArray(_useState5, 2),\n        category = _useState6[0],\n        setCategory = _useState6[1];\n\n  const _useState7 = useState({}),\n        _useState8 = _slicedToArray(_useState7, 2),\n        songFile = _useState8[0],\n        setSongFile = _useState8[1];\n\n  const _useState9 = useState({}),\n        _useState10 = _slicedToArray(_useState9, 2),\n        photo = _useState10[0],\n        setPhoto = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        success = _useState12[0],\n        setSuccess = _useState12[1];\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"songName\", songName);\n    data.append(\"singer\", singer);\n    data.append(\"category\", category);\n    data.append(\"songURL\", songFile);\n    data.append(\"imageURL\", photo);\n    Axios.post(\"http://localhost:5000/api/addSong\", data, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      console.log(res.data);\n      console.log('yes! success');\n      setSuccess(true);\n    });\n  };\n\n  const handleSelectedSongFile = e => {\n    setSongFile(e.target.files[0]);\n  };\n\n  const handleSelectedPhoto = e => {\n    setPhoto(e.target.files[0]);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, success ? React.createElement(\"div\", {\n    className: \"alert alert-success\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"'Song was uploaded successfully'\") : '', React.createElement(\"form\", {\n    encType: \"multipart/form-data\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"btn-block text-center\",\n    placeholder: \" \\u0627\\u0633\\u0645 \\u0622\\u0647\\u0646\\u06AF\",\n    type: \"text\",\n    name: \"song\",\n    onChange: e => setSongName(e.target.value),\n    value: songName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"btn-block text-center\",\n    placeholder: \" \\u0627\\u0633\\u0645 \\u062E\\u0648\\u0627\\u0646\\u0646\\u062F\\u0647\",\n    type: \"text\",\n    name: \"singer\",\n    onChange: e => setSinger(e.target.value),\n    value: singer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    className: \"btn-block text-center\",\n    placeholder: \"\\u062F\\u0633\\u062A\\u0647 \\u0628\\u0646\\u062F\\u06CC\",\n    type: \"text\",\n    name: \"category\",\n    onChange: e => setCategory(e.target.value),\n    value: category,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"custom-file was-validated mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"custom-file-label text-center\",\n    htmlFor: \"validatedCustomFile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"\\u0641\\u0627\\u06CC\\u0644 \\u0645\\u0648\\u0632\\u06CC\\u06A9\"), React.createElement(\"input\", {\n    placeholder: \"Music file\",\n    type: \"file\",\n    name: \"song\",\n    onChange: handleSelectedSongFile,\n    className: \"custom-file-input\",\n    id: \"validatedCustomFile\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Pick an audio or mp3 file no bigger than 15mb\")), React.createElement(\"div\", {\n    className: \"custom-file was-validated mb-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    className: \"custom-file-label text-center\",\n    htmlFor: \"validatedCustomFile\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"\\u0639\\u06A9\\u0633 \\u0622\\u0647\\u0646\\u06AF\"), React.createElement(\"input\", {\n    placeholder: \"Cover Photo\",\n    type: \"file\",\n    name: \"photo\",\n    onChange: handleSelectedPhoto,\n    className: \"custom-file-input\",\n    id: \"validatedCustomFile\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"invalid-feedback\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Pick an image which is jpeg or png and not bigger than 5mb\")), React.createElement(\"button\", {\n    className: \"btn btn-primary btn-block\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Submit\")));\n};\n\nexport default Upload;","map":{"version":3,"sources":["C:/30/music-app/client/src/components/songs/UploadSong.js"],"names":["React","useState","Axios","Upload","songName","setSongName","singer","setSinger","category","setCategory","songFile","setSongFile","photo","setPhoto","success","setSuccess","handleSubmit","e","preventDefault","data","FormData","append","post","headers","then","res","console","log","handleSelectedSongFile","target","files","handleSelectedPhoto","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport Axios from \"axios\";\r\n\r\nconst Upload = () =>{\r\n\r\n    const [songName, setSongName] = useState(\"\");\r\n    const [singer, setSinger] = useState(\"\");\r\n    const [category, setCategory] = useState(\"\");\r\n    const [songFile, setSongFile] = useState({});\r\n    const [photo, setPhoto] = useState({});\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData();\r\n\r\n        data.append(\"songName\", songName);\r\n        data.append(\"singer\", singer);\r\n        data.append(\"category\", category);\r\n        data.append(\"songURL\", songFile);\r\n        data.append(\"imageURL\", photo);\r\n\r\n        Axios.post(\"http://localhost:5000/api/addSong\", data, {\r\n            headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        }).then(res => {\r\n            console.log(res.data);\r\n            console.log('yes! success')\r\n            setSuccess(true)\r\n        });\r\n    };\r\n\r\n    const handleSelectedSongFile = e => {\r\n        setSongFile(e.target.files[0]);\r\n    };\r\n    const handleSelectedPhoto = e => {\r\n        setPhoto(e.target.files[0]);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n\r\n                {success ? <div className=\"alert alert-success\">'Song was uploaded successfully'</div> : ''}\r\n\r\n            <form encType=\"multipart/form-data\" onSubmit={handleSubmit}>\r\n                {/*<label htmlFor=\"name\">Name: </label>*/}\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        className=\"btn-block text-center\"\r\n                        placeholder=\" اسم آهنگ\"\r\n                        type=\"text\"\r\n                        name=\"song\"\r\n                        onChange={e => setSongName(e.target.value)}\r\n                        value={songName}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        className=\"btn-block text-center\"\r\n                        placeholder=\" اسم خواننده\"\r\n                        type=\"text\"\r\n                        name=\"singer\"\r\n                        onChange={e => setSinger(e.target.value)}\r\n                        value={singer}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        className=\"btn-block text-center\"\r\n                        placeholder=\"دسته بندی\"\r\n                        type=\"text\"\r\n                        name=\"category\"\r\n                        onChange={e => setCategory(e.target.value)}\r\n                        value={category}\r\n                    />\r\n                </div>\r\n\r\n                {/*<label htmlFor=\"file\">File: </label>*/}\r\n                <div className=\"custom-file was-validated mb-3\">\r\n                    <label className=\"custom-file-label text-center\" htmlFor=\"validatedCustomFile\">فایل موزیک</label>\r\n                    <input\r\n                        placeholder=\"Music file\"\r\n                        type=\"file\"\r\n                        name=\"song\"\r\n                        onChange={handleSelectedSongFile}\r\n                        className=\"custom-file-input\"\r\n                        id=\"validatedCustomFile\"\r\n                        required\r\n                    />\r\n                    <div className=\"invalid-feedback\">Pick an audio or mp3 file no bigger than 15mb</div>\r\n                </div>\r\n\r\n                <div className=\"custom-file was-validated mb-3\">\r\n                    <label className=\"custom-file-label text-center\" htmlFor=\"validatedCustomFile\">عکس آهنگ</label>\r\n                    <input\r\n                        placeholder=\"Cover Photo\"\r\n                        type=\"file\"\r\n                        name=\"photo\"\r\n                        onChange={handleSelectedPhoto}\r\n                        className=\"custom-file-input\"\r\n                        id=\"validatedCustomFile\"\r\n                        required\r\n\r\n                    />\r\n                    <div className=\"invalid-feedback\">Pick an image which is jpeg or png and not bigger than 5mb</div>\r\n                </div>\r\n\r\n                <button\r\n                    className=\"btn btn-primary btn-block\"\r\n                    type=\"submit\"\r\n                >Submit</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Upload;"]},"metadata":{},"sourceType":"module"}